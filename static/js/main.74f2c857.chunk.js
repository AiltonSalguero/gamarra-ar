(this["webpackJsonpgamarra-ar"]=this["webpackJsonpgamarra-ar"]||[]).push([[0],{107:function(e,t,a){},130:function(e,t){window.AFRAME.registerComponent("peakfinder",{init:function(){var e=this;this.loaded=!1,window.addEventListener("gps-camera-update-position",(function(t){!1===e.loaded&&(e._loadPeaks(t.detail.position.longitude,t.detail.position.latitude),e.loaded=!0)}))},_loadPeaks:function(e,t){var a=2e3;console.log(e),console.log(t);var n=document.createElement("a-text");n.setAttribute("look-at","[gps-projected-camera]"),n.setAttribute("value","Hola"),n.setAttribute("scale",{x:a,y:a,z:a}),n.setAttribute("gps-projected-entity-place",{latitude:t+3e-4,longitude:e+3e-4}),this.el.appendChild(n)}})},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=(a(51),a(52),a(10)),s=a.n(i),o=(a(56),a(6)),c=a(7),l=a(9),d=a(8),u=(a(57),a(11)),j=a(4),p=(a(106),a(107),a(17)),g=(a(108),a.p+"static/media/logo.b30ed51f.png"),b=a(1),m=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsx)("hashHistory",{basename:"/gamarra-ar",children:Object(b.jsxs)("div",{class:"container",children:[Object(b.jsx)("div",{class:"row",children:Object(b.jsx)("div",{class:"col",children:Object(b.jsx)("img",{src:g,class:"img-fluid"})})}),Object(b.jsx)("div",{class:"row",className:"mb-2",children:Object(b.jsx)("div",{class:"col text-center",children:Object(b.jsx)(u.Button,{component:p.b,className:"btn btn-primary btn-lg btn-block",href:"https://kyssnar.github.io/location-ar0a8hz/",children:"AR"})})}),Object(b.jsx)("div",{class:"row",className:"mb-2",children:Object(b.jsx)("div",{class:"col text-center",children:Object(b.jsx)(u.Button,{component:p.b,className:"btn btn-primary btn-lg btn-block",to:"/maplocation",children:"Mapa"})})})]})})}}]),a}(n.Component),h=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("a-scene",{"vr-mode-ui":"enabled: false",embedded:!0,arjs:"sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;",children:[Object(b.jsx)("a-box",{color:"yellow","gps-projected-entity-place":"latitude: -11.9652278; longitude: -76.994232;",position:"0 15 0",scale:"0.3 0.3 0.3"}),Object(b.jsx)("a-box",{color:"blue","gps-projected-entity-place":"latitude: -11.9652478; longitude: -76.994432;",position:"0 15 0",scale:"0.3 0.3 0.3"}),Object(b.jsx)("a-camera",{"gps-camera":!0,"rotation-reader":!0})]})})}}]),a}(n.Component),v=a(30),f=a(16),O=a.n(f),x=a(22),y=a(23),A=a(18),k=a.n(A),C=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,showingInfoWindow:!1,activeMarker:{},selectedPlace:{},mapCenter:{lat:-12.0647762,lng:-77.0165612},stores:[]},e.onMarkerClick=function(t,a,n){return e.setState({selectedPlace:t,activeMarker:a,showingInfoWindow:!0})},e.onMapClicked=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;console.log("Latitude is :",t),console.log("Longitude is :",a)})),this.setState({stores:[{id:1,name:"Victors Nombre Comercial",adress:"Av. Agustin Gamarra 140",latitude:-12.0641762,longitude:-77.1525624},{id:2,name:"Kayser",adress:"Av Agustin Gamarra 650",latitude:-12.0665232,longitude:-77.01325109999999},{id:3,name:"Mya Line",adress:"Av. Agustin Gamarra 1103",latitude:-12.0695634,longitude:-77.0128069},{id:4,name:"Mya Line",adress:"Av Agustin Gamarra 1105",latitude:-12.0694625,longitude:-77.0127509},{id:5,name:"Pioner",adress:"Av Agustin Gamarra 445",latitude:-12.0652889,longitude:-77.154501},{id:6,name:"Bata",adress:"Av. Agustin Gamarra 1017",latitude:-12.0684229,longitude:-77.0128529},{id:7,name:"Kayser",adress:"Av. La Mar 2225 - San Miguel",latitude:-12.0750562,longitude:-77.08071819999999},{id:8,name:"Bata",adress:"Av. La Marina 2000, San Miguel",latitude:-12.0761542,longitude:-77.083643},{id:9,name:"Bata",adress:"Jiron Jose Galvez 522 - B",latitude:-12.0903509,longitude:-77.07283799999999},{id:10,name:"Bata",adress:"Av. La Mar 2275, San Miguel",latitude:-12.0749941,longitude:-77.08168979999999},{id:11,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:12,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:13,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:14,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:15,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:16,name:"Abraham Store",adress:"Av. Universitaria",latitude:-12.0751071,longitude:-77.0803832}],loading:!1})}},{key:"distance",value:function(e,t,a,n,r){if(e==a&&t==n)return 0;var i=Math.PI*e/180,s=Math.PI*a/180,o=t-n,c=Math.PI*o/180,l=Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(c);return l>1&&(l=1),l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515,"K"==r&&(l*=1.609344),"N"==r&&(l*=.8684),l}},{key:"get_data_stores",value:function(){var e=this;fetch("https://gamarraappserviceapi.azurewebsites.net/api/Usuario/ListUsuariosByCoordenadas/200/200").then((function(e){return e.json()})).then((function(t){var a=t.usuariosRolTiendaByQuery;console.log(a),e.get_stores(a).then((function(t){e.setState({stores:t,loading:!1})}))}))}},{key:"get_location_from_adress",value:function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.a.setApiKey("AIzaSyAwO1y7_y1hk2V9HR1FNCyQFB1JjdCVzk8"),k.a.setLanguage("es"),k.a.setRegion("pe"),e.next=5,k.a.fromAddress(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_stores",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,r,i,s,o,c,l,d,u,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=1,n=[],r=t.sort(),i=Object(v.a)(r),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=20;break}return o=s.value,c=o.direccion_Direccion,console.log(c),e.next=12,this.get_location_from_adress(c);case 12:l=e.sent,console.log(l),d=l.results[0].geometry.location,u=d.lat,j=d.lng,console.log(u,j),n.push({id:a,name:o.nombresComercial,adress:c,latitude:u,longitude:j}),a++;case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:return console.log(n),e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,this,[[4,22,25,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?Object(b.jsx)("div",{children:"Cargando..."}):Object(b.jsxs)(y.Map,{google:this.props.google,initialCenter:{lat:this.state.mapCenter.lat,lng:this.state.mapCenter.lng},children:[this.state.stores.map((function(e){return Object(b.jsx)(y.Marker,{position:{lat:e.latitude,lng:e.longitude},children:Object(b.jsx)(y.InfoWindow,{children:Object(b.jsx)("div",{children:e.name})})},e.id)})),Object(b.jsx)(y.InfoWindow,{pixelOffset:"0",marker:this.state.activeMarker,visible:this.state.showingInfoWindow,children:Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:this.state.selectedPlace.name})})})]})}}]),a}(n.Component),w=Object(y.GoogleApiWrapper)({apiKey:"AIzaSyAwO1y7_y1hk2V9HR1FNCyQFB1JjdCVzk8"})(C),M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Map"}),Object(b.jsx)(w,{})]})}}]),a}(n.Component),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("a-scene",{"vr-mode-ui":"enabled: false",embedded:!0,arjs:"sourceType: webcam; videoTexture: true; debugUIEnabled: false;",children:[Object(b.jsx)("a-box",{color:"yellow","gps-projected-entity-place":"latitude: -11.9658694; longitude: -76.9947005;",position:"0 15 0",scale:"0.3 0.3 0.3"}),Object(b.jsx)("a-box",{color:"blue","gps-entity-place":"latitude: -11.9659694; longitude: -76.9947005;",position:"0 15 0",scale:"0.3 0.3 0.3"}),Object(b.jsx)("a-camera",{id:"camera1","look-controls-enabled":"false","arjs-look-controls":"smoothingFactor: 0.1","gps-camera":"gpsMinDistance: 5","rotation-reader":!0,children:" "})]})})}}]),a}(n.Component),_=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition((function(e){console.log("Latitude is :",e.coords.latitude),console.log("Longitude is :",e.coords.longitude)}))}},{key:"render",value:function(){return Object(b.jsxs)("a-scene",{"vr-mode-ui":"enabled: false",arjs:"sourceType: webcam; videoTexture: true; debugUIEnabled: false;",renderer:"antialias: true; alpha: true",children:[Object(b.jsx)("a-text",{value:"Tienda","look-at":"[gps-projected-camera]",scale:"120 120 120","gps-projected-entity-place":"latitude: -11.9659694; longitude: -76.9947005;"}),Object(b.jsx)("a-box",{"gps-projected-entity-place":"latitude: -11.9659694; longitude: -76.9947005;",material:"color: red",scale:"10 10 10"}),Object(b.jsx)("a-camera",{"gps-projected-camera":!0,"rotation-reader":!0})]})}}]),a}(n.Component);a(130);var I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("a-scene",{"vr-mode-ui":"enabled: false",embedded:!0,arjs:"sourceType: webcam; debugUIEnabled: false;",children:[Object(b.jsx)("a-box",{"gps-projected-entity-place":"latitude: -11.9659694; longitude: -76.9947005;",material:"color: red",scale:"10 10 10"}),Object(b.jsx)("a-entity",{peakfinder:!0}),Object(b.jsx)("a-text",{"gps-projected-entity-place":"latitude: -11.9659694; longitude: -76.9947005;"}),Object(b.jsx)("a-image",{src:"map_marker_icon.png","gps-projected-entity-place":"latitude: -11.9654429; longitude: -76.9942375;","look-at":"[gps-projected-camera]"}),Object(b.jsx)("a-text",{value:"Tienda test.","look-at":"[gps-camera]",scale:"120 120 120","gps-entity-place":"latitude: -11.9654429; longitude: -76.9942375;"}),Object(b.jsx)("a-camera",{"gps-camera":!0,"rotation-reader":!0,children:" "})]})})}}]),a}(n.Component),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,showingInfoWindow:!1,activeMarker:{},selectedPlace:{},mapCenter:{lat:-12.0647762,lng:-77.0165612},stores:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({stores:[{id:1,name:"Victors Nombre Comercial",adress:"Av. Agustin Gamarra 140",latitude:-12.0641762,longitude:-77.1525624},{id:2,name:"Kayser",adress:"Av Agustin Gamarra 650",latitude:-12.0665232,longitude:-77.01325109999999},{id:3,name:"Mya Line",adress:"Av. Agustin Gamarra 1103",latitude:-12.0695634,longitude:-77.0128069},{id:4,name:"Mya Line",adress:"Av Agustin Gamarra 1105",latitude:-12.0694625,longitude:-77.0127509},{id:5,name:"Pioner",adress:"Av Agustin Gamarra 445",latitude:-12.0652889,longitude:-77.154501},{id:6,name:"Bata",adress:"Av. Agustin Gamarra 1017",latitude:-12.0684229,longitude:-77.0128529},{id:7,name:"Kayser",adress:"Av. La Mar 2225 - San Miguel",latitude:-12.0750562,longitude:-77.08071819999999},{id:8,name:"Bata",adress:"Av. La Marina 2000, San Miguel",latitude:-12.0761542,longitude:-77.083643},{id:9,name:"Bata",adress:"Jiron Jose Galvez 522 - B",latitude:-12.0903509,longitude:-77.07283799999999},{id:10,name:"Bata",adress:"Av. La Mar 2275, San Miguel",latitude:-12.0749941,longitude:-77.08168979999999},{id:11,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:12,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:13,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:14,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:15,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:16,name:"Develogers",adress:"Av Wiesse",latitude:-11.9654429,longitude:-76.9942375},{id:17,name:"Abraham Store",adress:"Av. Universitaria",latitude:-12.0751071,longitude:-77.0803832}],loading:!1})}},{key:"get_data_stores",value:function(){var e=this;fetch("https://gamarraappserviceapi.azurewebsites.net/api/Usuario/ListUsuariosByCoordenadas/200/200").then((function(e){return e.json()})).then((function(t){var a=t.usuariosRolTiendaByQuery;console.log(a),a.push({direccion_Direccion:"3905 Auxiliar Av. Fernando Wiesse, San Juan de Lurigancho, Municipalidad Metropolitana de Lima",nombresComercial:"Develogers"}),e.get_stores(a).then((function(t){e.setState({stores:t,loading:!1})}))}))}},{key:"get_location_from_adress",value:function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.a.setApiKey("AIzaSyB-AIzaSyAwO1y7_y1hk2V9HR1FNCyQFB1JjdCVzk8"),k.a.setLanguage("es"),k.a.setRegion("pe"),e.next=5,k.a.fromAddress(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_stores",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,r,i,s,o,c,l,d,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=1,n=[],r=Object(v.a)(t),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=19;break}return s=i.value,o=s.direccion_Direccion,console.log(o),e.next=11,this.get_location_from_adress(o);case 11:c=e.sent,console.log(c),l=c.results[0].geometry.location,d=l.lat,u=l.lng,console.log(d,u),n.push({id:a,name:s.nombresComercial,adress:o,latitude:d,longitude:u}),a++;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),r.e(e.t0);case 24:return e.prev=24,r.f(),e.finish(24);case 27:return console.log(n),e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,this,[[3,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?Object(b.jsx)("div",{children:"Cargando..."}):Object(b.jsx)("div",{children:Object(b.jsxs)("a-scene",{"vr-mode-ui":"enabled: false",embedded:!0,arjs:"sourceType: webcam; videoTexture: true; debugUIEnabled: false;",children:[this.state.stores.map((function(e){return Object(b.jsx)("a-text",{value:e.name,geometry:"primitive:plane","gps-projected-entity-place":"latitude:"+e.latitude+"longitude:"+e.longitude,position:"0 15 0",scale:"0.3 0.3 0.3"})})),this.state.stores.map((function(e){return Object(b.jsx)("a-sphere",{"gps-projected-entity-place":"latitude:"+e.latitude+"longitude:"+e.longitude,color:"yellow",radius:"5"})})),Object(b.jsx)("a-camera",{"gps-camera":!0,"rotation-reader":!0})]})})}}]),a}(n.Component),S=function(){return Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/",component:m}),Object(b.jsx)(j.a,{path:"/arlocation",component:h}),Object(b.jsx)(j.a,{path:"/arlocation2",component:L}),Object(b.jsx)(j.a,{path:"/arlocation3",component:_}),Object(b.jsx)(j.a,{path:"/arlocation4",component:I}),Object(b.jsx)(j.a,{path:"/arlocation5",component:B}),Object(b.jsx)(j.a,{path:"/maplocation",component:M})]})},N=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsx)(p.a,{basename:"/gamarra-ar",children:Object(b.jsx)("div",{className:"demo-big-content",children:Object(b.jsxs)(u.Layout,{children:[Object(b.jsx)(u.Header,{className:"header-color",title:Object(b.jsx)(p.b,{style:{textDecoration:"none",color:"white"},to:"/",children:"Gamarra Web App"}),scroll:!0,children:Object(b.jsxs)(u.Navigation,{children:[Object(b.jsx)(p.b,{to:"/",children:"Inicio"}),Object(b.jsx)(p.b,{path:"https://kyssnar.github.io/location-ar0a8hz/",children:"AR"}),Object(b.jsx)(p.b,{to:"/maplocation",children:"Mapa"})]})}),Object(b.jsxs)(u.Content,{children:[Object(b.jsx)("div",{className:"page-content"}),Object(b.jsx)(S,{})]})]})})})}}]),a}(n.Component),F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,132)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),F()},56:function(e,t,a){},57:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.74f2c857.chunk.js.map