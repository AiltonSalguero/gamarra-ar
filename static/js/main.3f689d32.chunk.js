(this["webpackJsonpgamarra-ar"]=this["webpackJsonpgamarra-ar"]||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){},266:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=(a(143),a(144),a(10)),s=a.n(i),o=(a(215),a(19)),l=a(20),u=a(22),c=a(21),d=(a(216),a(44)),g=(a(7),a(265),a(266),a(45)),m=(a(267),a.p+"static/media/logo.b30ed51f.png"),p=(n.Component,a(273),a.p,a(25)),v=(r.a.Component,a(131)),f=a(30),h=a.n(f),y=a(85),A=a(38),C=a(46),b=a.n(C),k=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,showingInfoWindow:!1,activeMarker:{},selectedPlace:{},mapCenter:{lat:-12.0647762,lng:-77.0165612},stores:[]},e.onMarkerClick=function(t,a,n){return e.setState({selectedPlace:t,activeMarker:a,showingInfoWindow:!0})},e.onMapClicked=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;console.log("Latitude is :",t),console.log("Longitude is :",a)})),this.setState({stores:[{id:1,name:"Victors Nombre Comercial",adress:"Av. Agustin Gamarra 140",latitude:-12.0641762,longitude:-77.1525624},{id:2,name:"Kayser",adress:"Av Agustin Gamarra 650",latitude:-12.0665232,longitude:-77.01325109999999},{id:3,name:"Mya Line",adress:"Av. Agustin Gamarra 1103",latitude:-12.0695634,longitude:-77.0128069},{id:4,name:"Mya Line",adress:"Av Agustin Gamarra 1105",latitude:-12.0694625,longitude:-77.0127509},{id:5,name:"Pioner",adress:"Av Agustin Gamarra 445",latitude:-12.0652889,longitude:-77.154501},{id:6,name:"Bata",adress:"Av. Agustin Gamarra 1017",latitude:-12.0684229,longitude:-77.0128529},{id:7,name:"Kayser",adress:"Av. La Mar 2225 - San Miguel",latitude:-12.0750562,longitude:-77.08071819999999},{id:8,name:"Bata",adress:"Av. La Marina 2000, San Miguel",latitude:-12.0761542,longitude:-77.083643},{id:9,name:"Bata",adress:"Jiron Jose Galvez 522 - B",latitude:-12.0903509,longitude:-77.07283799999999},{id:10,name:"Bata",adress:"Av. La Mar 2275, San Miguel",latitude:-12.0749941,longitude:-77.08168979999999},{id:11,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:12,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:13,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:14,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:15,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:16,name:"Abraham Store",adress:"Av. Universitaria",latitude:-12.0751071,longitude:-77.0803832}],loading:!1})}},{key:"distance",value:function(e,t,a,n,r){if(e==a&&t==n)return 0;var i=Math.PI*e/180,s=Math.PI*a/180,o=t-n,l=Math.PI*o/180,u=Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(l);return u>1&&(u=1),u=60*(u=180*(u=Math.acos(u))/Math.PI)*1.1515,"K"==r&&(u*=1.609344),"N"==r&&(u*=.8684),u}},{key:"get_data_stores",value:function(){var e=this;fetch("https://gamarraappserviceapi.azurewebsites.net/api/Usuario/ListUsuariosByCoordenadas/200/200").then((function(e){return e.json()})).then((function(t){var a=t.usuariosRolTiendaByQuery;console.log(a),e.get_stores(a).then((function(t){e.setState({stores:t,loading:!1})}))}))}},{key:"get_location_from_adress",value:function(){var e=Object(y.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.a.setApiKey("AIzaSyAwO1y7_y1hk2V9HR1FNCyQFB1JjdCVzk8"),b.a.setLanguage("es"),b.a.setRegion("pe"),e.next=5,b.a.fromAddress(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_stores",value:function(){var e=Object(y.a)(h.a.mark((function e(t){var a,n,r,i,s,o,l,u,c,d,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=1,n=[],r=t.sort(),i=Object(v.a)(r),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=20;break}return o=s.value,l=o.direccion_Direccion,console.log(l),e.next=12,this.get_location_from_adress(l);case 12:u=e.sent,console.log(u),c=u.results[0].geometry.location,d=c.lat,g=c.lng,console.log(d,g),n.push({id:a,name:o.nombresComercial,adress:l,latitude:d,longitude:g}),a++;case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:return console.log(n),e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,this,[[4,22,25,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",null,"Cargando..."):r.a.createElement(A.Map,{google:this.props.google,initialCenter:{lat:this.state.mapCenter.lat,lng:this.state.mapCenter.lng}},this.state.stores.map((function(e){return r.a.createElement(A.Marker,{key:e.id,position:{lat:e.latitude,lng:e.longitude}},r.a.createElement(A.InfoWindow,null,r.a.createElement("div",null,e.name)))})),r.a.createElement(A.InfoWindow,{pixelOffset:"0",marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.selectedPlace.name))))}}]),a}(n.Component),M=Object(A.GoogleApiWrapper)({apiKey:"AIzaSyAwO1y7_y1hk2V9HR1FNCyQFB1JjdCVzk8"})(k),w=(n.Component,function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("img",{src:m,class:"img-fluid"})))}}]),a}(n.Component)),L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,296)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),L()}},[[295,1,2]]]);
//# sourceMappingURL=main.3f689d32.chunk.js.map