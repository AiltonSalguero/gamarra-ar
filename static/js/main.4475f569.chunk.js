(this["webpackJsonpgamarra-ar"]=this["webpackJsonpgamarra-ar"]||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){},266:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=(a(143),a(144),a(10)),i=a.n(o),s=(a(215),a(19)),l=a(20),c=a(22),u=a(21),d=(a(216),a(44)),m=a(7),g=(a(265),a(266),a(45)),p=(a(267),a.p+"static/media/logo.b30ed51f.png"),h=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("hashHistory",{basename:"/gamarra-ar"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("img",{src:p,class:"img-fluid"}))),r.a.createElement("div",{class:"row",className:"mb-2"},r.a.createElement("div",{class:"col text-center"},r.a.createElement(d.Button,{component:g.a,className:"btn btn-primary btn-lg btn-block",to:"/arlocation"},"AR"))),r.a.createElement("div",{class:"row",className:"mb-2"},r.a.createElement("div",{class:"col text-center"},r.a.createElement(d.Button,{component:g.a,className:"btn btn-primary btn-lg btn-block",to:"/maplocation"},"Mapa")))))}}]),a}(n.Component),v=(a(273),a.p,a(25)),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(v.Scene,null,r.a.createElement(v.Box,{position:"-1 0.5 -3",rotation:"0 45 0",color:"#4CC3D9",shadow:!0}),r.a.createElement(v.Sphere,{position:"0 1.25 -5",radius:"1.25",color:"#EF2D5E",shadow:!0}),r.a.createElement(v.Cylinder,{position:"1 0.75 -3",radius:"0.5",height:"1.5",color:"#FFC65D",shadow:!0}),r.a.createElement(v.Plane,{position:"0 0 -4",rotation:"-90 0 0",width:"4",height:"4",color:"#7BC8A4",shadow:!0}),r.a.createElement(v.Sky,{color:"#ECECEC"}),r.a.createElement(v.Text,{value:"Hello world, react-aframe!",align:"center",position:"0 2.3 -1.5",color:"#7BC8A4"}))}}]),a}(r.a.Component),b=a(131),y=a(30),E=a.n(y),C=a(85),A=a(38),k=a(46),w=a.n(k),M=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,showingInfoWindow:!1,activeMarker:{},selectedPlace:{},mapCenter:{lat:-12.0647762,lng:-77.0165612},stores:[]},e.onMarkerClick=function(t,a,n){return e.setState({selectedPlace:t,activeMarker:a,showingInfoWindow:!0})},e.onMapClicked=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;console.log("Latitude is :",t),console.log("Longitude is :",a)})),this.setState({stores:[{id:1,name:"Victors Nombre Comercial",adress:"Av. Agustin Gamarra 140",latitude:-12.0641762,longitude:-77.1525624},{id:2,name:"Kayser",adress:"Av Agustin Gamarra 650",latitude:-12.0665232,longitude:-77.01325109999999},{id:3,name:"Mya Line",adress:"Av. Agustin Gamarra 1103",latitude:-12.0695634,longitude:-77.0128069},{id:4,name:"Mya Line",adress:"Av Agustin Gamarra 1105",latitude:-12.0694625,longitude:-77.0127509},{id:5,name:"Pioner",adress:"Av Agustin Gamarra 445",latitude:-12.0652889,longitude:-77.154501},{id:6,name:"Bata",adress:"Av. Agustin Gamarra 1017",latitude:-12.0684229,longitude:-77.0128529},{id:7,name:"Kayser",adress:"Av. La Mar 2225 - San Miguel",latitude:-12.0750562,longitude:-77.08071819999999},{id:8,name:"Bata",adress:"Av. La Marina 2000, San Miguel",latitude:-12.0761542,longitude:-77.083643},{id:9,name:"Bata",adress:"Jiron Jose Galvez 522 - B",latitude:-12.0903509,longitude:-77.07283799999999},{id:10,name:"Bata",adress:"Av. La Mar 2275, San Miguel",latitude:-12.0749941,longitude:-77.08168979999999},{id:11,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:12,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:13,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:14,name:"Victors Nombre Comercial",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:15,name:"Angelas Flowers",adress:"Av. Las Carmelias 234",latitude:-12.0931147,longitude:-77.0293717},{id:16,name:"Abraham Store",adress:"Av. Universitaria",latitude:-12.0751071,longitude:-77.0803832}],loading:!1})}},{key:"distance",value:function(e,t,a,n,r){if(e==a&&t==n)return 0;var o=Math.PI*e/180,i=Math.PI*a/180,s=t-n,l=Math.PI*s/180,c=Math.sin(o)*Math.sin(i)+Math.cos(o)*Math.cos(i)*Math.cos(l);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"==r&&(c*=1.609344),"N"==r&&(c*=.8684),c}},{key:"get_data_stores",value:function(){var e=this;fetch("https://gamarraappserviceapi.azurewebsites.net/api/Usuario/ListUsuariosByCoordenadas/200/200").then((function(e){return e.json()})).then((function(t){var a=t.usuariosRolTiendaByQuery;console.log(a),e.get_stores(a).then((function(t){e.setState({stores:t,loading:!1})}))}))}},{key:"get_location_from_adress",value:function(){var e=Object(C.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.a.setApiKey("AIzaSyAwO1y7_y1hk2V9HR1FNCyQFB1JjdCVzk8"),w.a.setLanguage("es"),w.a.setRegion("pe"),e.next=5,w.a.fromAddress(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_stores",value:function(){var e=Object(C.a)(E.a.mark((function e(t){var a,n,r,o,i,s,l,c,u,d,m;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=1,n=[],r=t.sort(),o=Object(b.a)(r),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=20;break}return s=i.value,l=s.direccion_Direccion,console.log(l),e.next=12,this.get_location_from_adress(l);case 12:c=e.sent,console.log(c),u=c.results[0].geometry.location,d=u.lat,m=u.lng,console.log(d,m),n.push({id:a,name:s.nombresComercial,adress:l,latitude:d,longitude:m}),a++;case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:return console.log(n),e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,this,[[4,22,25,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",null,"Cargando..."):r.a.createElement(A.Map,{google:this.props.google,initialCenter:{lat:this.state.mapCenter.lat,lng:this.state.mapCenter.lng}},this.state.stores.map((function(e){return r.a.createElement(A.Marker,{key:e.id,position:{lat:e.latitude,lng:e.longitude}},r.a.createElement(A.InfoWindow,null,r.a.createElement("div",null,e.name)))})),r.a.createElement(A.InfoWindow,{pixelOffset:"0",marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.selectedPlace.name))))}}]),a}(n.Component),j=Object(A.GoogleApiWrapper)({apiKey:"AIzaSyAwO1y7_y1hk2V9HR1FNCyQFB1JjdCVzk8"})(M),O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Map"),r.a.createElement(j,null))}}]),a}(n.Component),B=function(){return r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:h}),r.a.createElement(m.a,{path:"/arlocation",component:f}),r.a.createElement(m.a,{path:"/maplocation",component:O}))},L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(B,null)}}]),a}(n.Component),I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,296)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),I()}},[[295,1,2]]]);
//# sourceMappingURL=main.4475f569.chunk.js.map